<!--<div class='container'>-->
<div ng-include src="'/partials/navibar.html'"></div>
<div class='main'>
    <div class='container-fluid'>
        <div class="row">
            <div class='col-md-6'>
                <div class="page-header">
                    <h3>Filter All Messages</h3>
                </div>
                <div class="form-group">
                  <label for="sel1">Select Name:</label>
                  <select class="form-control" id="sel1" ng-model='filter.s_name' ng-options='name.name as name.name for name in filter.names'>
                      <option value=""></option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="sel1">Select Subject:</label>
                  <select class="form-control" id="sel1" ng-model='filter.s_subject' ng-options='subject.subject as subject.subject for subject in filter.subjects'>
                      <option value=""></option>
                  </select>
                </div>
                <button type="button" ng-click='filter.getResults()'>Get results</button>
            </div>
            <div class='col-md-6'>
                 <div class="page-header">
                    <h3>Results</h3>
                </div>
                <p>{{filter.nodata}}</p>
                <div class='post_repeat' ng-repeat='message in filter.messages'>
                    <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#{{$index}}">{{filter.sender}}: {{message.subject}}</button>

                    <div id="{{$index}}" class="collapse">
                        <div class="panel panel-default my_max_width">
                            <div class="panel-heading">
                                <h3 class="panel-title">
                                    <div class='container-fluid'> 
                                        <div class="row">
                                            <div class="col-md-10 message_text">
                                                {{filter.sender}}
                                            </div> 
                                            <div class="col-md-1 message_text message_time" data-fv-date="true">
                                                <span>
                                                    {{message.timestamp | date:"dd.MM.yyyy HH:mm"}}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </h3>
                            </div>
                            <div class="panel-body my_panel my_panel_body">
                               <p class='message_text'><b>{{message.subject}}</b></p>
                               <p class='message_text'>{{message.text}}</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>    
    </div>
</div>